$(document).ready(function(){function e(){$(".article").fadeOut(400)}function a(){$.ajax({type:"GET",url:"https://en.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=8&format=json",dataType:"jsonp",beforeSend:function(){$("#searchResults").append('<div class="loader">Loading...</div')},success:function(e){$(".loader").fadeOut(400),$(".article").fadeOut(400),$(e.query.random).each(function(a){$("#searchResults").append('<div class="article"><a href="https://en.wikipedia.org/?curid='+e.query.random[a].id+'" class="randomLink">'+e.query.random[a].title+"</a></div>")})},error:function(){console.log("unable to retrieve data")}})}function n(){var e=$("#searchBar2").val().replace(/\s/gi,"%20");$.ajax({type:"GET",url:"https://en.wikipedia.org/w/api.php?action=query&list=search&srwhat=text&format=json&srsearch="+encodeURIComponent(e),dataType:"jsonp",beforeSend:function(){$("#searchResults").append('<div class="loader">Loading...</div')},success:function(e){$(".loader").fadeOut(400),$(".article").fadeOut(400),$(e.query.search).each(function(a){$("#searchResults").append('<div class="article"><a href="https://en.wikipedia.org/wiki/'+e.query.search[a].title+'" class="searchLink">'+e.query.search[a].title+"</a><br/><p>"+e.query.search[a].snippet+"</p></div>")})},error:function(){console.log("unable to retrieve data")}})}$("#randomButton").on("click",function(e){a()}),$("#clearButton").on("click",function(a){e()}),$("#searchButton2").on("click",function(e){n()})});